<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Lofi Radio</title>
<style>
* { box-sizing: border-box; }
html, body {
  margin: 0;
  height: 100%;
  background: black;
  font-family: monospace;
  overflow: hidden;
}

#bg {
  position: fixed;
  inset: 0;
  background-size: cover;
  background-position: center;
  filter: brightness(0.65);
}

/* vignette */
#vignette {
  position: fixed;
  inset: 0;
  background: radial-gradient(circle, transparent 55%, rgba(0,0,0,0.8) 100%);
  pointer-events: none;
}

/* CRT scanlines */
#crt::before {
  content: "";
  position: fixed;
  inset: 0;
  background: repeating-linear-gradient(
    to bottom,
    rgba(255,255,255,0.03),
    rgba(255,255,255,0.03) 1px,
    transparent 2px,
    transparent 4px
  );
  pointer-events: none;
}

/* rain animation */
#rain {
  position: fixed;
  inset: 0;
  pointer-events: none;
  overflow: hidden;
}
.rain-drop {
  position: absolute;
  width: 3px;
  height: 12px;
  background: rgba(255,255,255,0.1);
  animation: fall linear infinite;
}
@keyframes fall {
  to { transform: translateY(100vh); }
}

#top {
  position: absolute;
  top: 12px;
  width: 100%;
  display: flex;
  justify-content: flex-end;
  padding: 0 16px;
  color: red;
}

#status {
  position: absolute;
  top: 12px;
  left: 16px;
  cursor: pointer;
}

#dot {
  animation: blink 1s infinite;
}
@keyframes blink { 50% { opacity: 0; } }

#controls {
  position: absolute;
  bottom: 20px;
  width: 100%;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 12px;
}

#channels {
  display: flex;
  gap: 24px;
}

.channel {
  text-align: center;
  color: white;
  cursor: pointer;
  font-size: 23px;
}
.channel img {
  width: 100px;
  height: 100px;
}

button {
  background: black;
  color: white;
  border: 1px solid white;
  padding: 8px 18px;
  font-size: 14px;
}

@media (max-width: 600px) {
  #channels { gap: 14px; }
  .channel img { width: 36px; height: 36px; }
}

#footer {
  position: fixed;
  bottom: 0;
  width: 100%;
  text-align: center;
  color: #888;
  font-size: 14px;
  padding: 6px 0;
  background: rgba(0, 0, 0, 0.5); 
  z-index: 100;
  pointer-events: none; 
}

</style>
</head>
<body>

<div id="bg"></div>
<div id="crt"></div>
<div id="vignette"></div>
<div id="rain"></div>

<div id="top">
  <div id="status">LISTENING <span id="dot">●</span></div>
</div>

<div id="controls">
  <button onclick="togglePlay()">⏯ Pause / Play</button>
  <div id="channels">
    <div class="channel" onclick="switchChannel('lofi')">
      <img src="coffeeicon.png"><br>Coffee Shop
    </div>
    <div class="channel" onclick="switchChannel('car')">
      <img src="caricon.png"><br>Chill Car Ride
    </div>
  </div>
</div>

<audio id="audio" autoplay></audio>

<div id="footer">Made by Neonroot</div>


<script>
const audio = document.getElementById('audio');
const bg = document.getElementById('bg');
const statusText = document.getElementById('status');

const channels = {
  lofi: { img: 'lofi1.jpg', folder: 'lofimusic', tracks: ['lofimusic/1.mp3','lofimusic/2.mp3'] },
  car: { img: 'chillcar.jpg', folder: 'carmusic', tracks: ['carmusic/1.mp3','carmusic/2.mp3'] }
};

let currentChannel = 'lofi';
let playlist = [];
let index = 0;

function loadPlaylist(channel) {
  playlist = channels[channel].tracks;
  index = 0;
  audio.src = playlist[index];
  audio.play();
}

audio.addEventListener('ended', () => {
  index = (index + 1) % playlist.length;
  audio.src = playlist[index];
  audio.play();
});

function switchChannel(channel) {
  currentChannel = channel;
  bg.style.backgroundImage = `url(${channels[channel].img})`;
  loadPlaylist(channel);
}

function togglePlay() {
  if(audio.paused){
    audio.play();
    statusText.innerHTML = 'LISTENING <span id="dot">●</span>';
  } else {
    audio.pause();
    statusText.textContent = 'PAUSED';
  }
}

// rain generation
const rainContainer = document.getElementById('rain');
for(let i=0; i<150; i++){
const drop = document.createElement('div');
drop.className = 'rain-drop';
drop.style.left = Math.random()*100 + 'vw';
drop.style.animationDuration = 0.5 + Math.random()*0.5 + 's';
drop.style.animationDelay = Math.random()*2 + 's';
rainContainer.appendChild(drop);
}

switchChannel('lofi');
</script>
</body>
</html>
